<!DOCTYPE html>
<!-- 
    ========================================
    文件名: 500.html
    功能: 服务器错误页面（HTTP 500）
    说明: 
    1. 当服务器发生内部错误时显示此页面
    2. 使用Element Plus的Result组件显示友好的错误提示
    3. 提供"返回首页"和"返回上页"两个操作
    4. 简洁的错误页面设计，提升用户体验
    
    触发场景：
    - 服务器代码异常
    - 数据库连接失败
    - 未捕获的运行时异常
    ========================================
-->
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>服务器错误 - 拍卖系统</title>
    
    <!-- 引入Element Plus UI组件库 -->
    <link rel="stylesheet" href="/css/element-plus.css">
    <!-- 引入用户端自定义样式 -->
    <link href="/auction/user/css/user.css" rel="stylesheet">
</head>
<body>
    <!-- ========================= Vue应用容器 ========================= -->
    <div id="app">
        <!-- 错误提示容器：全屏居中显示 -->
        <div class="error-container">
            <!-- Element Plus的Result组件：显示错误图标和文字 -->
            <el-result
                icon="error"
                title="500"
                sub-title="服务器内部错误">
                <!-- 操作按钮插槽 -->
                <template #extra>
                    <!-- 返回首页按钮：主要操作，蓝色 -->
                    <el-button type="primary" @click="goHome">返回首页</el-button>
                    <!-- 返回上页按钮：次要操作，灰色 -->
                    <el-button @click="goBack">返回上页</el-button>
                </template>
            </el-result>
        </div>
    </div>

    <!-- ========================= JavaScript库引入 ========================= -->
    <script src="/js/vue.js"></script>           <!-- Vue 3核心库 -->
    <script src="/js/element-plus.js"></script>  <!-- Element Plus UI组件库 -->
    
    <!-- ========================= Vue应用逻辑 ========================= -->
    <script>
        // 从Vue中解构createApp函数
        const { createApp } = Vue;

        // 创建Vue应用实例
        createApp({
            /**
             * methods：定义组件方法
             */
            methods: {
                /**
                 * goHome方法：返回首页
                 * 
                 * 功能说明：
                 * 点击"返回首页"按钮时，跳转到用户首页
                 * 
                 * 首页URL：/user/
                 */
                goHome() {
                    window.location.href = '/user/';
                },
                
                /**
                 * goBack方法：返回上一页
                 * 
                 * 功能说明：
                 * 点击"返回上页"按钮时，使用浏览器历史记录返回
                 * 
                 * 实现：调用window.history.back()方法
                 */
                goBack() {
                    window.history.back();  // 浏览器返回上一页
                }
            }
        }).use(ElementPlus).mount('#app');  // 使用Element Plus并挂载到#app
    </script>
    
    <!-- ========================= 错误页面样式 ========================= -->
    <style>
        /*
         * 错误容器样式
         * 功能：让错误提示在页面中垂直和水平居中显示
         * 布局：使用Flexbox实现居中
         */
        .error-container {
            display: flex;             /* Flexbox布局 */
            justify-content: center;   /* 水平居中 */
            align-items: center;       /* 垂直居中 */
            min-height: 100vh;         /* 最小高度为整个视口 */
            background: #f5f5f5;       /* 浅灰色背景 */
        }
    </style>
</body>
</html>
